---
import Container from "./Container.astro";

import Astronaut from "../assets/Img/astronaut.png";
---

<script>
  const texts = ["ZENITH AGENCY"]; // Array of texts to display with the effect
  const typingContainer = document.getElementById("typing-container"); // Element where the text will be shown
  let currentTextIndex = 0;
  let currentText = "";
  let typingSpeed = 80; // Adjust the typing speed (milliseconds per character)

  function type() {
    const text = texts[currentTextIndex];

    for (let i = 0; i < text.length; i++) {
      setTimeout(() => {
        currentText += text[i];
        typingContainer.innerHTML = currentText;
      }, i * typingSpeed); // Delay based on index and typing speed
    }

    // Call the typing function again after 20 seconds with a loop
    setTimeout(() => {
      currentText = ""; // Reset currentText for the next animation
      currentTextIndex = 0; // Reset index for the next text in the array
      type();
    }, 10000); // 20000 milliseconds = 20 seconds
  }

  // Call the typing function only once on page load
  window.onload = type;

  // EStrella

  const COLORS = ["#fff2", "#fff4", "#fff7", "#fffc"];

  const generateSpaceLayer = (size, selector, totalStars, duration) => {
    const layer = [];
    for (let i = 0; i < totalStars; i++) {
      const color = COLORS[~~(Math.random() * COLORS.length)];
      const x = Math.floor(Math.random() * 100);
      const y = Math.floor(Math.random() * 100);
      layer.push(`${x}vw ${y}vh 0 ${color}, ${x}vw ${y + 100}vh 0 ${color}`);
    }
    const container = document.querySelector(selector);
    container.style.setProperty("--size", size);
    container.style.setProperty("--duration", duration);
    container.style.setProperty("--space-layer", layer.join(","));
  };

  generateSpaceLayer("2px", ".space-1", 250, "25s");
  generateSpaceLayer("3px", ".space-2", 100, "20s");
  generateSpaceLayer("6px", ".space-3", 25, "15s");
</script>

<div
  class="relative HeaderPri"
  id="home"
  style="clip-path: polygon(0 0, 100% 0, 100% 100%, 100% 100%, 100% 100%, 0% 100%); background-image: url(../assets/Img/MaskGroup2.png);"
  ;
>
  <div class="containerEstrella w-full">
    <div class="relative pt-12 ml-auto">
      <div class="flex justify-center" style="margin: 11% 50%;">
        <!-- <div class="py-6 md:order-1 hidden md:block">
          <img class="fadeInUp duration-1000" src={Astronaut} alt="" />
        </div> -->
        <div class="cajaNegra">
          <div class="contenedor mb-8 contenedor-titulo" style="width: 600px;">
            <h1 class="text-9xl text-center font-bold" style="height: 250px;">
              <span
                class="bg-clip-text text-transparent bg-gradient-to-r f500 from-tercer to-primary typing-container"
                id="typing-container"></span>
              <span
                class="bg-clip-text text-transparent bg-gradient-to-r from-pink-500 to-primary typing-container"
                id="typing-container"></span>
            </h1>
          </div>
          <p class="subtitulo text-white text-center text-3xl">
            Transformación Digital & Growth
          </p>
          <div
            class="mt-10 flex flex-wrap justify-center gap-y-4 gap-x-6 boton-header"
          >
            <a
              href="https://api.whatsapp.com/send?phone=+5493865751144&text=Hola, quiero recibir asesoramiento"
              class="boton relative flex h-11 items-center justify-center px-6 before:absolute before:inset-0 bg-primary hover:bg-tercer before:transition before:duration-300 hover:before:scale-105 active:duration-75 active:before:scale-95 sm:w-max"
            >
              <span class="relative text-base font-semibold text-white"
                >Recibí asesoramiento ahora</span
              >
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="space space-1"></div>
    <div class="space space-2"></div>
    <div class="space space-3"></div>
    <div class="loadin">
      <img src="../assets/Img/loading.png" alt="" />
    </div>
  </div>
  <!-- <div
    aria-hidden="true"
    class="absolute inset-0 grid grid-cols-2 -space-x-52 opacity-40 bg-cover no-repeat bg-fixed"
    style=" background-image: url('/img/header.png');"
  >
    <div class="blur-[106px] h-56 bg-gradient-to-br from-primary to-purple-400">
    </div>
    <div class="blur-[106px] h-32 bg-gradient-to-r from-cyan-400 to-sky-300">
    </div>
  </div> -->
</div>

<style>
  .loading {
    position: relative;
  }
  .zenith {
    font-size: 8.5rem;
    letter-spacing: 5px;
    border-right: 5px solid;
    width: 100%;
    overflow: hidden;
    animation: typing 2s steps(60), cursor 0.2s step-end alternate;
  }

  .HeaderPri {
    height: 100vh;
  }

  h1 span {
    background-color: black;
    color: transparent;
    text-shadow: 9px -2px 1px #fff;
    -webkit-background-clip: text;
    background-clip: text;
  }

  .agency {
    font-size: 8.5rem;
    letter-spacing: 2px;
    border-right: 5px solid;
    width: 100%;
    height: 10rem;
    overflow: hidden;
    animation: typing 2s steps(60), cursor 0.2s step-end alternate;
  }

  /* estrella */

  .containerEstrella {
    background-image: linear-gradient(#aa47d6, #cfbbf0);
    background-image: url(../assets/Img/flashera8.png);
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    inset: 0;
    position: fixed;
  }

  .space {

    --size: 2px;
    --space-layer: 4vw 50vh 0 #fff, 18vw 88vh 0 #fff, 73vw 14vh 0 #fff;

    width: var(--size);
    height: var(--size);
    box-shadow: var(--space-layer);
    position: absolute;
    top: 0;
    left: 0;

    opacity: 0.75;

    opacity: 0.5;
  }

  .space {
    animation: move var(--duration) linear infinite;
  }

  .boton {
    border-radius: 5px;
  }

  @keyframes move {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(-100vh);
    }
  }

  @keyframes cursor {
    50% {
      border-color: transparent;
    }
  }

  @keyframes typing {
    from {
      width: 0;
    }
  }

  @-webkit-keyframes fadeInUp {
    from {
      opacity: 0;
      -webkit-transform: translate3d(0, 100%, 0);
      transform: translate3d(0, 100%, 0);
    }

    to {
      opacity: 1;
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      -webkit-transform: translate3d(0, 100%, 0);
      transform: translate3d(0, 100%, 0);
    }

    to {
      opacity: 1;
      -webkit-transform: translate3d(0, 0, 0);
      transform: translate3d(0, 0, 0);
    }
  }
  .fadeInUp {
    -webkit-animation-name: fadeInUp;
    animation-name: fadeInUp;
    -webkit-animation-duration: 2s; /* Cambia la duración a 2 segundos */
    animation-duration: 2s;
  }


  /* .spanAgency {
    
    background: linear-gradient(242deg, rgba(0,56,167,1), rgb(255,77,176)) ;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;

  } */


  .subtitulo {
    font-size: 2rem;
  }

  .logo-solo {
    width: 390px;
  }

  @media only screen and (max-width: 768px) {
    .HeaderPri {
      height: 35rem;
    }

    h1 {
      text-align: center !important;
      font-size: 5rem !important;
      height: 160px !important;
    }

    .subtitulo {
      text-align: center;
    }

    .contenedor-titulo h1 {
      font-size: 6rem;
      line-height: 1;
      margin-top: 3rem;
    }

    .contenedor-titulo {
      margin-bottom: 2rem;
    }

    .subtitulo {
      font-size: 1.8rem;
    }

    .boton-header {
      display: flex;
      justify-content: center;
      align-items: center;
    }
  }
</style>
